# 設計文書

このディレクトリには、FF Pokerプロジェクトの要件定義、技術設計、実装計画が含まれています。

## ドキュメント一覧

### 1. [requirements.md](./requirements.md) - 要件定義書

**内容:**
- プロジェクト概要と目的
- MVP機能要件（ルーム管理、ゲーム機能、フロー制御）
- 技術要件（技術スタック、対応ブラウザ）
- データモデル仕様（Player, Room, RoundState, SidePot）
- API仕様（REST API、WebSocket API）
- セキュリティ要件（カード配布の正当性、認証、チート対策）
- 非機能要件（パフォーマンス、可用性、スケーラビリティ）

**対象読者:** プロジェクトメンバー全員、ステークホルダー

**最終更新:** 2025-11-18

---

### 2. [architecture.md](./architecture.md) - 技術設計書

**内容:**
- システムアーキテクチャ全体構成
- フロントエンド設計
  - ディレクトリ構造
  - 主要コンポーネント設計
  - 状態管理戦略（Context + useReducer）
  - UI/UX設計
- バックエンド設計
  - ディレクトリ構造
  - 主要モジュール設計（GameManager, Room, Round, Deck, HandEvaluator, PotCalculator）
- ゲームロジック設計
  - ゲームフロー
  - ステートマシン
  - ベッティングロジック
  - タイムアウト処理
- 通信設計
  - WebSocketイベントフロー
  - イベントハンドラ実装
- データフロー
- インフラ設計
  - デプロイ構成
  - スケーリング戦略
  - 監視・ロギング
- セキュリティ・チート対策
  - サーバサイド検証
  - カード情報の保護
  - 再接続認証
  - レート制限

**対象読者:** 開発者

**最終更新:** 2025-11-18

---

### 3. [implementation-plan.md](./implementation-plan.md) - 実装計画

**内容:**
- 開発マイルストーン
  - **マイルストーンA: プロトタイプ**
    - 目標: ブラウザ2つでゲームが最後まで回る
    - タスク一覧（プロジェクトセットアップ、サーバ実装、クライアント実装、統合テスト）
  - **マイルストーンB: 安定化**
    - 目標: 切断→再接続してゲームが継続できる
    - タスク一覧（再接続機能、タイムアウト、エラーハンドリング、ロギング）
  - **マイルストーンC: UX改善**
    - 目標: 友達に「遊べる」と言わせられる
    - タスク一覧（アニメーション、モバイル最適化、UI改善、監視・分析）
- テスト計画
  - ユニットテスト（カバレッジ目標: サーバ80%、クライアント70%）
  - 統合テスト
  - E2Eテスト（Playwright）
- リスクと対応策
- 次のアクション（推奨する最初のステップ）

**対象読者:** 開発者、プロジェクトマネージャー

**最終更新:** 2025-11-18

---

## 開発の進め方

1. **要件確認**: [requirements.md](./requirements.md) で機能要件を理解
2. **設計確認**: [architecture.md](./architecture.md) で技術的な実装方針を理解
3. **タスク選択**: [implementation-plan.md](./implementation-plan.md) からタスクを選択
4. **TDD実装**: `/tsumiki:tdd-*` コマンドでテスト駆動開発
5. **レビュー**: `/review` でコードレビュー
6. **ドキュメント**: `/doc` でドキュメント生成
7. **コミット**: `/commit` でコミット作成

## 関連ドキュメント

- [技術スタック](../tech-stack.md) - 採用技術の詳細
- [CLAUDE.md](../../.claude/CLAUDE.md) - 開発ガイドライン
- [README.md](../../README.md) - プロジェクト概要

---

最終更新: 2025-11-19
